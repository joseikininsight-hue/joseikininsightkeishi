/**
 * Single Grant Page Styles
 * Version: 302.0.0
 * 補助金詳細ページ専用スタイル
 */

:root {
    --gi-black: #111;
    --gi-dark: #1a1a1a;
    --gi-gray-900: #222;
    --gi-gray-800: #333;
    --gi-gray-700: #444;
    --gi-gray-600: #4b5563;
    --gi-gray-500: #888;
    --gi-gray-400: #aaa;
    --gi-gray-300: #ccc;
    --gi-gray-200: #e5e5e5;
    --gi-gray-100: #f5f5f5;
    --gi-gray-50: #fafafa;
    --gi-white: #fff;
    --gi-accent: #FFD700;
    --gi-accent-dark: #E6C200;
    --gi-accent-light: #FFF8DC;
    --gi-success: #059669;
    --gi-success-light: #D1FAE5;
    --gi-success-text: #047857;
    --gi-warning: #D97706;
    --gi-warning-light: #FEF3C7;
    --gi-error: #DC2626;
    --gi-error-light: #FEE2E2;
    --gi-info: #2563EB;
    --gi-info-light: #DBEAFE;
    --gi-font: 'Noto Sans JP', -apple-system, BlinkMacSystemFont, sans-serif;
    --gi-container: 1280px;
    --gi-sidebar: 380px;
    --gi-gap: 48px;
    --gi-transition: 0.2s ease;
    --gi-shadow: 0 2px 8px rgba(0,0,0,0.08);
    --gi-shadow-lg: 0 8px 24px rgba(0,0,0,0.12);
    --gi-mobile-banner: 60px;
}
.gi-toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: var(--gi-black); color: var(--gi-white); padding: 12px 24px; border-radius: 4px; font-size: 14px; font-weight: 600; z-index: 10000; opacity: 0; visibility: hidden; transition: 0.3s; }
.gi-toast.show { opacity: 1; visibility: visible; bottom: 40px; }

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: var(--gi-font); font-size: 16px; line-height: 1.8; color: var(--gi-black); background: var(--gi-white); -webkit-font-smoothing: antialiased; }
a { color: inherit; text-decoration: none; }
img { max-width: 100%; height: auto; display: block; }
button { font-family: inherit; cursor: pointer; border: none; background: none; }
ul, ol { list-style: none; }

.gi-container { max-width: var(--gi-container); margin: 0 auto; padding: 0 24px; }
.gi-layout { display: grid; grid-template-columns: 1fr var(--gi-sidebar); gap: var(--gi-gap); padding: 48px 0; align-items: start; }
.gi-main { min-width: 0; }
.gi-sidebar { position: sticky; top: 24px; display: flex; flex-direction: column; gap: 24px; }

@media (max-width: 1100px) {
    .gi-layout { grid-template-columns: 1fr; gap: 32px; }
    .gi-sidebar { position: static; display: none; }
    .gi-page { padding-bottom: calc(var(--gi-mobile-banner) + 80px); }
}

.gi-progress { position: fixed; top: 0; left: 0; width: 0; height: 3px; background: var(--gi-accent); z-index: 9999; transition: width 0.1s linear; }

/* パンくず */
.gi-breadcrumb { padding: 16px 0; border-bottom: 1px solid var(--gi-gray-200); background: var(--gi-gray-50); }
.gi-breadcrumb-list { display: flex; flex-wrap: wrap; align-items: center; gap: 8px; font-size: 14px; color: var(--gi-gray-600); max-width: var(--gi-container); margin: 0 auto; padding: 0 24px; }
.gi-breadcrumb-link:hover { color: var(--gi-black); }
.gi-breadcrumb-sep { color: var(--gi-gray-300); }
.gi-breadcrumb-current { color: var(--gi-black); font-weight: 600; }

/* ヒーロー */
.gi-hero { padding: 40px 0; border-bottom: 1px solid var(--gi-gray-200); }
.gi-hero-badges { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 16px; }
.gi-badge { display: inline-flex; align-items: center; padding: 4px 12px; font-size: 12px; font-weight: 700; letter-spacing: 0.05em; }
.gi-badge-open { background: var(--gi-black); color: var(--gi-white); }
.gi-badge-closed { background: var(--gi-gray-400); color: var(--gi-white); }
.gi-badge-upcoming { background: var(--gi-info); color: var(--gi-white); }
.gi-badge-critical { background: var(--gi-error); color: var(--gi-white); animation: pulse 1.5s infinite; }
.gi-badge-urgent { background: var(--gi-error-light); color: var(--gi-error); border: 1px solid var(--gi-error); }
.gi-badge-warning { background: var(--gi-warning-light); color: var(--gi-warning); border: 1px solid var(--gi-warning); }
.gi-badge-featured { background: var(--gi-accent); color: var(--gi-black); }
.gi-badge-new { background: var(--gi-success); color: var(--gi-white); }
@keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
.gi-hero-title { font-size: 32px; font-weight: 900; line-height: 1.3; letter-spacing: -0.02em; margin-bottom: 16px; }
@media (max-width: 768px) { .gi-hero-title { font-size: 24px; } }
.gi-hero-meta { display: flex; flex-wrap: wrap; gap: 16px; font-size: 14px; color: var(--gi-gray-600); }
.gi-hero-meta-item { display: flex; align-items: center; gap: 4px; }
.gi-hero-meta-item svg { width: 14px; height: 14px; }

/* メトリクス */
.gi-metrics { display: grid; grid-template-columns: repeat(4, 1fr); border: 2px solid var(--gi-black); margin: 32px 0; }
.gi-metric { padding: 20px; text-align: center; border-right: 1px solid var(--gi-gray-200); background: var(--gi-white); }
.gi-metric:last-child { border-right: none; }
.gi-metric-label { font-size: 12px; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; color: var(--gi-gray-600); margin-bottom: 8px; }
.gi-metric-value { font-size: 20px; font-weight: 900; color: var(--gi-black); line-height: 1.2; }
.gi-metric-value.highlight { background: linear-gradient(transparent 60%, var(--gi-accent) 60%); display: inline; padding: 0 4px; }
.gi-metric-value.urgent { color: var(--gi-error); }
.gi-metric-sub { font-size: 12px; color: var(--gi-gray-600); margin-top: 4px; }
.gi-metric-stars { display: flex; justify-content: center; gap: 2px; margin-top: 4px; }
.gi-metric-star { width: 12px; height: 12px; fill: var(--gi-gray-300); }
.gi-metric-star.active { fill: var(--gi-accent); }
@media (max-width: 768px) {
    .gi-metrics { grid-template-columns: repeat(2, 1fr); }
    .gi-metric:nth-child(2) { border-right: none; }
    .gi-metric:nth-child(1), .gi-metric:nth-child(2) { border-bottom: 1px solid var(--gi-gray-200); }
}

/* セクション */
.gi-section { margin-bottom: 48px; }
.gi-section-header { display: flex; align-items: center; gap: 12px; padding-bottom: 16px; border-bottom: 2px solid var(--gi-black); margin-bottom: 24px; }
.gi-section-icon { width: 24px; height: 24px; flex-shrink: 0; }
.gi-section-title { font-size: 20px; font-weight: 900; letter-spacing: -0.01em; }
.gi-section-en { font-size: 12px; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; color: var(--gi-gray-500); margin-left: auto; }

/* AI要約 */
.gi-summary { background: var(--gi-black); color: var(--gi-white); padding: 32px; margin-bottom: 32px; position: relative; }
.gi-summary::before { content: ''; position: absolute; top: 0; left: 0; width: 4px; height: 100%; background: var(--gi-accent); }
.gi-summary-header { display: flex; align-items: center; gap: 12px; margin-bottom: 16px; }
.gi-summary-icon { width: 40px; height: 40px; background: var(--gi-accent); display: flex; align-items: center; justify-content: center; }
.gi-summary-icon svg { width: 24px; height: 24px; color: var(--gi-black); }
.gi-summary-label { font-size: 12px; font-weight: 700; letter-spacing: 0.15em; text-transform: uppercase; }
.gi-summary-badge { margin-left: auto; padding: 4px 12px; background: rgba(255,255,255,0.1); font-size: 12px; font-weight: 600; }
.gi-summary-text { font-size: 18px; line-height: 2; color: rgba(255,255,255,0.95); }

/* 詳細グループ */
.gi-details-group { margin-bottom: 24px; }
.gi-details-group:last-child { margin-bottom: 0; }
.gi-details-group-header { display: flex; align-items: center; gap: 8px; padding: 12px 16px; background: var(--gi-black); color: var(--gi-white); font-size: 14px; font-weight: 700; }
.gi-details-group-icon { display: inline-flex; align-items: center; justify-content: center; }
.gi-details-group-icon svg { width: 18px; height: 18px; }

/* テーブル */
.gi-table { width: 100%; border: 1px solid var(--gi-gray-200); border-top: none; }
.gi-table-row { display: grid; grid-template-columns: 140px 1fr; border-bottom: 1px solid var(--gi-gray-200); }
.gi-table-row:last-child { border-bottom: none; }
.gi-table-key { padding: 16px; font-size: 14px; font-weight: 700; color: var(--gi-gray-700); background: var(--gi-gray-50); border-right: 1px solid var(--gi-gray-200); display: flex; align-items: center; }
.gi-table-value { padding: 16px; font-size: 16px; line-height: 1.8; display: flex; align-items: center; flex-wrap: wrap; gap: 8px; }
@media (max-width: 640px) {
    .gi-table-row { grid-template-columns: 1fr; }
    .gi-table-key { border-right: none; border-bottom: 1px solid var(--gi-gray-100); }
}
.gi-value-highlight { background: linear-gradient(transparent 60%, var(--gi-accent) 60%); font-weight: 900; padding: 0 4px; }
.gi-value-large { font-size: 20px; font-weight: 900; }

/* タグ */
.gi-tags { display: flex; flex-wrap: wrap; gap: 8px; }
.gi-tag { display: inline-flex; align-items: center; padding: 4px 12px; background: var(--gi-gray-100); border: 1px solid var(--gi-gray-200); font-size: 14px; font-weight: 500; transition: var(--gi-transition); }
.gi-tag:hover { background: var(--gi-black); border-color: var(--gi-black); color: var(--gi-white); }
.gi-tag-success { background: var(--gi-success-light); border-color: var(--gi-success); color: var(--gi-success-text); }
.gi-tag-info { background: var(--gi-info-light); border-color: var(--gi-info); color: var(--gi-info); }

/* チェックリスト */
.gi-checklist { border: 2px solid var(--gi-black); background: var(--gi-white); }
.gi-checklist-header { display: flex; align-items: center; justify-content: space-between; padding: 20px 24px; background: var(--gi-black); color: var(--gi-white); }
.gi-checklist-title { 
    display: flex !important; 
    align-items: center !important; 
    gap: 12px !important; 
    font-size: 18px !important; 
    font-weight: 900 !important; 
    color: #ffffff !important;
    margin: 0 !important;
}
.gi-checklist-title svg { 
    width: 24px !important; 
    height: 24px !important; 
    color: #ffffff !important;
}
.gi-checklist-header h2.gi-checklist-title {
    color: #ffffff !important;
    background: transparent !important;
}
.gi-checklist-actions { display: flex; gap: 8px; }
.gi-checklist-action { padding: 8px 12px; background: rgba(255,255,255,0.1); color: var(--gi-white); font-size: 12px; font-weight: 600; transition: var(--gi-transition); }
.gi-checklist-action:hover { background: var(--gi-accent); color: var(--gi-black); }
.gi-checklist-progress { padding: 16px 24px; background: var(--gi-white); border-bottom: 1px solid var(--gi-gray-200); }
.gi-checklist-progress-bar { height: 8px; background: var(--gi-gray-200); margin-bottom: 8px; overflow: hidden; }
.gi-checklist-progress-fill { height: 100%; background: var(--gi-success); width: 0; transition: width 0.3s ease; }
.gi-checklist-progress-text { display: flex; justify-content: space-between; font-size: 14px; color: var(--gi-gray-600); }
.gi-checklist-progress-percent { font-weight: 700; color: var(--gi-black); }
.gi-checklist-category { border-bottom: 1px solid var(--gi-gray-200); }
.gi-checklist-category:last-child { border-bottom: none; }
.gi-checklist-category-header { 
    display: flex !important; 
    align-items: center !important; 
    gap: 8px !important; 
    padding: 12px 24px !important; 
    background: #333 !important; 
    font-size: 14px !important; 
    font-weight: 700 !important; 
    color: #ffffff !important; 
    border: none !important;
}
.gi-checklist .gi-checklist-category-header { 
    color: #ffffff !important; 
    background-color: #333 !important;
}
.gi-checklist-items { padding: 0; }
.gi-checklist-item { display: flex; align-items: flex-start; gap: 16px; padding: 16px 24px; border-bottom: 1px solid var(--gi-gray-100); cursor: pointer; transition: var(--gi-transition); background: var(--gi-white); }
.gi-checklist-item:last-child { border-bottom: none; }
.gi-checklist-item:hover { background: var(--gi-gray-50); }
.gi-checklist-item.checked { background: var(--gi-success-light); border-left: 4px solid var(--gi-success); padding-left: 20px; }
.gi-checklist-checkbox { width: 24px; height: 24px; flex-shrink: 0; border: 2px solid var(--gi-gray-300); display: flex; align-items: center; justify-content: center; transition: var(--gi-transition); margin-top: 2px; background: var(--gi-white); }
.gi-checklist-item.checked .gi-checklist-checkbox { background: var(--gi-success); border-color: var(--gi-success); }
.gi-checklist-checkbox svg { width: 14px; height: 14px; color: var(--gi-white); opacity: 0; }
.gi-checklist-item.checked .gi-checklist-checkbox svg { opacity: 1; }
.gi-checklist-content { flex: 1; min-width: 0; }
.gi-checklist-label { font-size: 16px; font-weight: 600; color: var(--gi-black); margin-bottom: 4px; line-height: 1.5; word-wrap: break-word; overflow-wrap: break-word; }
.gi-checklist-item.checked .gi-checklist-label { color: var(--gi-success-text); }
.gi-checklist-desc { font-size: 14px; color: var(--gi-gray-600); margin-bottom: 4px; line-height: 1.6; word-wrap: break-word; overflow-wrap: break-word; white-space: normal; max-height: 4.8em; overflow: hidden; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; }
.gi-checklist-help { display: none; font-size: 14px; color: var(--gi-gray-700); padding: 12px; background: var(--gi-gray-100); margin-top: 8px; border-left: 3px solid var(--gi-gray-400); line-height: 1.6; word-wrap: break-word; overflow-wrap: break-word; white-space: normal; }
.gi-checklist-item.show-help .gi-checklist-help { display: block; }
.gi-checklist-required { display: inline-block; padding: 2px 8px; background: var(--gi-error); color: var(--gi-white); font-size: 11px; font-weight: 700; margin-left: 8px; vertical-align: middle; }
.gi-checklist-optional { display: inline-block; padding: 2px 8px; background: var(--gi-gray-400); color: var(--gi-white); font-size: 11px; font-weight: 700; margin-left: 8px; vertical-align: middle; }
.gi-checklist-help-btn { padding: 4px; color: var(--gi-gray-400); transition: var(--gi-transition); flex-shrink: 0; }
.gi-checklist-help-btn:hover { color: var(--gi-black); }
.gi-checklist-help-btn svg { width: 18px; height: 18px; }
.gi-checklist-result { padding: 24px; background: var(--gi-gray-50); text-align: center; }
.gi-checklist-result-icon { width: 56px; height: 56px; margin: 0 auto 12px; display: flex; align-items: center; justify-content: center; background: var(--gi-gray-200); color: var(--gi-gray-600); border-radius: 50%; }
.gi-checklist-result.complete .gi-checklist-result-icon { background: var(--gi-success); color: var(--gi-white); }
.gi-checklist-result-icon svg { width: 28px; height: 28px; }
.gi-checklist-result-text { font-size: 18px; font-weight: 700; color: var(--gi-gray-700); margin-bottom: 8px; }
.gi-checklist-result.complete .gi-checklist-result-text { color: var(--gi-success-text); }
.gi-checklist-result-sub { font-size: 14px; color: var(--gi-gray-600); }
.gi-checklist-cta { display: none; margin-top: 16px; }
.gi-checklist-result.complete .gi-checklist-cta { display: block; }

/* コンテンツ */
.gi-content { font-size: 16px; line-height: 2; color: var(--gi-gray-800); }
.gi-content h2 { font-size: 20px; font-weight: 900; color: var(--gi-black); margin: 40px 0 16px; padding-bottom: 12px; border-bottom: 2px solid var(--gi-black); }
.gi-content h3 { font-size: 18px; font-weight: 700; color: var(--gi-black); margin: 32px 0 12px; }
.gi-content p { margin-bottom: 16px; }
.gi-content ul, .gi-content ol { margin: 16px 0; padding-left: 24px; }
.gi-content li { margin-bottom: 8px; list-style: disc; }
.gi-content strong { font-weight: 700; color: var(--gi-black); }
.gi-content a { color: var(--gi-black); text-decoration: underline; text-underline-offset: 2px; }

/* フロー */
.gi-flow { display: flex; flex-direction: column; gap: 0; }
.gi-flow-step { display: grid; grid-template-columns: 56px 1fr; gap: 16px; padding: 20px; background: var(--gi-gray-50); border-left: 3px solid var(--gi-black); transition: var(--gi-transition); }
.gi-flow-step:hover { background: var(--gi-white); box-shadow: var(--gi-shadow); }
.gi-flow-num { width: 56px; height: 56px; background: var(--gi-black); color: var(--gi-white); display: flex; align-items: center; justify-content: center; font-size: 24px; font-weight: 900; }
.gi-flow-content { display: flex; flex-direction: column; justify-content: center; }
.gi-flow-title { font-size: 18px; font-weight: 700; margin-bottom: 4px; }
.gi-flow-desc { font-size: 16px; color: var(--gi-gray-600); line-height: 1.6; }

/* 比較表 */
.gi-compare { overflow-x: auto; margin: 24px 0; -webkit-overflow-scrolling: touch; }
.gi-compare-table { width: 100%; min-width: 700px; border-collapse: collapse; font-size: 14px; }
.gi-compare-table th, .gi-compare-table td { padding: 12px 16px; text-align: center; border: 1px solid var(--gi-gray-200); vertical-align: middle; }
.gi-compare-table thead th { background: var(--gi-gray-800); color: var(--gi-white); font-weight: 700; font-size: 12px; letter-spacing: 0.05em; }
.gi-compare-table thead th:first-child { width: 120px; text-align: left; }
.gi-compare-table tbody th { background: var(--gi-gray-50); font-weight: 700; text-align: left; color: var(--gi-gray-700); }
.gi-compare-current { background: var(--gi-accent-light) !important; }
.gi-compare-current-header { background: var(--gi-accent) !important; color: var(--gi-black) !important; }
.gi-compare-grant-header { display: flex; flex-direction: column; gap: 4px; text-align: left; min-width: 140px; }
.gi-compare-grant-name { font-size: 14px; font-weight: 700; line-height: 1.3; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
.gi-compare-grant-org { font-size: 11px; font-weight: 400; opacity: 0.8; }
.gi-compare-value { font-weight: 600; }
.gi-compare-value.highlight { color: var(--gi-success-text); font-weight: 900; }
.gi-compare-link { display: inline-flex; align-items: center; gap: 4px; color: var(--gi-black); font-weight: 600; text-decoration: underline; text-underline-offset: 2px; }
.gi-compare-badge { display: inline-block; padding: 2px 8px; font-size: 11px; font-weight: 700; }
.gi-compare-badge.yes { background: var(--gi-success); color: var(--gi-white); }
.gi-compare-badge.no { background: var(--gi-gray-300); color: var(--gi-gray-600); }
.gi-compare-stars { display: flex; justify-content: center; gap: 2px; }
.gi-compare-star { width: 14px; height: 14px; fill: var(--gi-gray-300); }
.gi-compare-star.active { fill: var(--gi-accent); }

/* FAQ */
.gi-faq-list { display: flex; flex-direction: column; gap: 12px; }
.gi-faq-item { border: 1px solid var(--gi-gray-200); transition: var(--gi-transition); }
.gi-faq-item:hover { border-color: var(--gi-gray-400); }
.gi-faq-item[open] { border-color: var(--gi-black); }
.gi-faq-question { display: flex; align-items: center; gap: 16px; padding: 20px; font-size: 16px; font-weight: 700; color: var(--gi-black); cursor: pointer; list-style: none; transition: var(--gi-transition); }
.gi-faq-question::-webkit-details-marker { display: none; }
.gi-faq-question:hover { background: var(--gi-gray-50); }
.gi-faq-q-mark { width: 28px; height: 28px; background: var(--gi-black); color: var(--gi-white); display: flex; align-items: center; justify-content: center; font-size: 14px; font-weight: 900; flex-shrink: 0; }
.gi-faq-question-text { flex: 1; }
.gi-faq-icon { width: 20px; height: 20px; flex-shrink: 0; transition: transform 0.2s ease; }
.gi-faq-item[open] .gi-faq-icon { transform: rotate(45deg); }
.gi-faq-answer { padding: 0 20px 20px; padding-left: calc(20px + 28px + 16px); font-size: 16px; line-height: 1.8; color: var(--gi-gray-700); }

/* お問い合わせ */
.gi-contact-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; }
.gi-contact-item { display: flex; align-items: center; gap: 16px; padding: 16px; background: var(--gi-gray-50); border: 1px solid var(--gi-gray-200); transition: var(--gi-transition); }
.gi-contact-item:hover { border-color: var(--gi-black); }
.gi-contact-icon { width: 48px; height: 48px; background: var(--gi-black); color: var(--gi-white); display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
.gi-contact-icon svg { width: 20px; height: 20px; }
.gi-contact-label { font-size: 12px; color: var(--gi-gray-600); margin-bottom: 2px; }
.gi-contact-value { font-size: 16px; font-weight: 700; }

/* 情報ソース */
.gi-source-card { border: 2px solid var(--gi-gray-200); background: var(--gi-white); margin: 32px 0; }
.gi-source-header { display: flex; align-items: center; gap: 8px; padding: 12px 16px; background: var(--gi-gray-100); border-bottom: 1px solid var(--gi-gray-200); }
.gi-source-header svg { width: 18px; height: 18px; color: var(--gi-gray-600); }
.gi-source-label { font-size: 12px; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; color: var(--gi-gray-600); }
.gi-source-body { padding: 16px; display: flex; align-items: center; justify-content: space-between; gap: 16px; flex-wrap: wrap; }
.gi-source-info { flex: 1; min-width: 200px; }
.gi-source-name { font-size: 16px; font-weight: 700; color: var(--gi-black); margin-bottom: 4px; }
.gi-source-verified { display: inline-flex; align-items: center; gap: 4px; font-size: 14px; color: var(--gi-success-text); }
.gi-source-verified svg { width: 16px; height: 16px; }
.gi-source-link { display: inline-flex; align-items: center; gap: 8px; padding: 8px 16px; background: var(--gi-black); color: var(--gi-white); font-size: 14px; font-weight: 600; transition: var(--gi-transition); }
.gi-source-link:hover { background: var(--gi-gray-800); }
.gi-source-link svg { width: 14px; height: 14px; }
.gi-source-footer { padding: 12px 16px; background: var(--gi-gray-50); border-top: 1px solid var(--gi-gray-200); font-size: 14px; color: var(--gi-gray-600); }

/* 監修者 */
.gi-supervisor { background: var(--gi-gray-50); border: 2px solid var(--gi-gray-200); padding: 24px; margin: 40px 0; }
.gi-supervisor-label { display: flex; align-items: center; gap: 8px; font-size: 12px; font-weight: 700; letter-spacing: 0.1em; text-transform: uppercase; color: var(--gi-gray-600); margin-bottom: 16px; padding-bottom: 12px; border-bottom: 1px solid var(--gi-gray-200); }
.gi-supervisor-label svg { width: 16px; height: 16px; }
.gi-supervisor-content { display: flex; gap: 20px; }
.gi-supervisor-avatar { width: 72px; height: 72px; background: var(--gi-gray-200); display: flex; align-items: center; justify-content: center; flex-shrink: 0; overflow: hidden; border-radius: 50%; }
.gi-supervisor-avatar img { width: 100%; height: 100%; object-fit: cover; }
.gi-supervisor-avatar svg { width: 32px; height: 32px; color: var(--gi-gray-500); }
.gi-supervisor-info { flex: 1; }
.gi-supervisor-name { font-size: 18px; font-weight: 900; margin-bottom: 4px; }
.gi-supervisor-title { font-size: 14px; color: var(--gi-gray-600); margin-bottom: 8px; }
.gi-supervisor-bio { font-size: 14px; color: var(--gi-gray-700); line-height: 1.7; margin-bottom: 12px; }
.gi-supervisor-credentials { display: flex; flex-wrap: wrap; gap: 8px; }
.gi-supervisor-credential { padding: 4px 12px; background: var(--gi-white); border: 1px solid var(--gi-gray-300); font-size: 12px; font-weight: 600; }

/* サイドバー */
.gi-sidebar-section { border: 1px solid var(--gi-gray-200); background: var(--gi-white); }
.gi-sidebar-header { padding: 16px 20px; background: var(--gi-gray-50); border-bottom: 1px solid var(--gi-gray-200); }
.gi-sidebar-title { font-size: 14px; font-weight: 700; display: flex; align-items: center; gap: 8px; }
.gi-sidebar-title svg { width: 16px; height: 16px; }
.gi-sidebar-body { padding: 16px 20px; }

/* CTAボタン */
.gi-cta-buttons { display: flex; flex-direction: column; gap: 12px; }
.gi-btn { display: inline-flex; align-items: center; justify-content: center; gap: 8px; padding: 16px 20px; font-size: 14px; font-weight: 700; border: 2px solid; transition: var(--gi-transition); }
.gi-btn svg { width: 18px; height: 18px; }
.gi-btn-primary { background: var(--gi-black); border-color: var(--gi-black); color: var(--gi-white); }
.gi-btn-primary:hover { background: var(--gi-gray-800); border-color: var(--gi-gray-800); }
.gi-btn-accent { background: var(--gi-accent); border-color: var(--gi-accent); color: var(--gi-black); }
.gi-btn-accent:hover { background: var(--gi-accent-dark); border-color: var(--gi-accent-dark); }
.gi-btn-secondary { background: var(--gi-white); border-color: var(--gi-gray-300); color: var(--gi-black); }
.gi-btn-secondary:hover { border-color: var(--gi-black); }
.gi-btn-full { width: 100%; }

/* AIアシスタント */
.gi-ai-section { border: 2px solid var(--gi-black); }
.gi-ai-section .gi-sidebar-header { background: var(--gi-black); border-bottom: none; }
.gi-ai-section .gi-sidebar-title { color: var(--gi-white); }
.gi-ai-body { padding: 0; display: flex; flex-direction: column; height: 480px; background: var(--gi-white); }
.gi-ai-messages { flex: 1; overflow-y: auto; padding: 16px; display: flex; flex-direction: column; gap: 16px; background: var(--gi-gray-50); }
.gi-ai-msg { display: flex; gap: 12px; max-width: 90%; }
.gi-ai-msg.user { align-self: flex-end; flex-direction: row-reverse; }
.gi-ai-avatar { width: 36px; height: 36px; background: var(--gi-black); color: var(--gi-white); font-size: 12px; font-weight: 900; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
.gi-ai-msg.user .gi-ai-avatar { background: var(--gi-gray-400); }
.gi-ai-bubble { padding: 12px 16px; background: var(--gi-white); border: 1px solid var(--gi-gray-200); color: var(--gi-black); font-size: 14px; line-height: 1.7; }
.gi-ai-msg.user .gi-ai-bubble { background: var(--gi-black); border-color: var(--gi-black); color: var(--gi-white); }
.gi-ai-input-area { padding: 16px; border-top: 1px solid var(--gi-gray-200); background: var(--gi-white); }
.gi-ai-input-wrap { display: flex; gap: 8px; }
.gi-ai-input { flex: 1; padding: 12px 16px; background: var(--gi-white); border: 2px solid var(--gi-gray-300); color: var(--gi-black); font-size: 14px; font-family: inherit; resize: none; min-height: 44px; max-height: 100px; }
.gi-ai-input::placeholder { color: var(--gi-gray-500); }
.gi-ai-input:focus { outline: none; border-color: var(--gi-black); }
.gi-ai-send { width: 44px; height: 44px; background: var(--gi-black); display: flex; align-items: center; justify-content: center; transition: var(--gi-transition); flex-shrink: 0; }
.gi-ai-send:hover { background: var(--gi-gray-800); }
.gi-ai-send:disabled { opacity: 0.5; cursor: not-allowed; }
.gi-ai-send svg { width: 18px; height: 18px; color: var(--gi-white); }
.gi-ai-suggestions { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 12px; }
.gi-ai-chip { padding: 8px 12px; background: var(--gi-white); border: 1px solid var(--gi-gray-300); color: var(--gi-gray-700); font-size: 12px; font-weight: 600; cursor: pointer; transition: var(--gi-transition); }
.gi-ai-chip:hover { background: var(--gi-black); border-color: var(--gi-black); color: var(--gi-white); }

/* サイドバーリスト */
.gi-sidebar-list { display: flex; flex-direction: column; }
.gi-sidebar-list-item { border-bottom: 1px solid var(--gi-gray-100); }
.gi-sidebar-list-item:last-child { border-bottom: none; }
.gi-sidebar-list-link { display: flex; align-items: center; gap: 12px; padding: 12px 0; transition: var(--gi-transition); }
.gi-sidebar-list-link:hover { padding-left: 8px; }
.gi-sidebar-rank { width: 28px; height: 28px; background: var(--gi-gray-100); font-size: 12px; font-weight: 900; display: flex; align-items: center; justify-content: center; flex-shrink: 0; }
.gi-sidebar-rank.rank-1 { background: var(--gi-accent); color: var(--gi-black); }
.gi-sidebar-rank.rank-2 { background: var(--gi-gray-400); color: var(--gi-white); }
.gi-sidebar-rank.rank-3 { background: #CD7F32; color: var(--gi-white); }
.gi-sidebar-rank.urgent { background: var(--gi-error); color: var(--gi-white); }
.gi-sidebar-rank.warning { background: var(--gi-warning); color: var(--gi-white); }
.gi-sidebar-list-content { flex: 1; min-width: 0; }
.gi-sidebar-list-title { font-size: 14px; font-weight: 600; line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
.gi-sidebar-list-meta { font-size: 12px; color: var(--gi-gray-600); margin-top: 2px; }

/* コラムカード */
.gi-column-card { display: flex; gap: 12px; padding: 12px 0; border-bottom: 1px solid var(--gi-gray-100); transition: var(--gi-transition); }
.gi-column-card:last-child { border-bottom: none; }
.gi-column-card:hover { padding-left: 8px; }
.gi-column-thumb { width: 60px; height: 60px; background: var(--gi-gray-100); flex-shrink: 0; overflow: hidden; }
.gi-column-thumb img { width: 100%; height: 100%; object-fit: cover; }
.gi-column-content { flex: 1; min-width: 0; }
.gi-column-title { font-size: 14px; font-weight: 600; line-height: 1.4; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; margin-bottom: 4px; }
.gi-column-date { font-size: 12px; color: var(--gi-gray-500); }

/* 広告枠 */
.gi-ad-section { background: var(--gi-gray-50); border: 1px dashed var(--gi-gray-300); }
.gi-ad-section .gi-sidebar-header { background: transparent; border-bottom: 1px dashed var(--gi-gray-300); }
.gi-ad-section .gi-sidebar-title { color: var(--gi-gray-500); font-size: 12px; }
.gi-ad-placeholder { min-height: 250px; display: flex; align-items: center; justify-content: center; color: var(--gi-gray-400); font-size: 14px; }

/* 関連補助金 */
.gi-related { padding: 48px 0; background: var(--gi-gray-50); border-top: 1px solid var(--gi-gray-200); margin-top: 48px; }
.gi-related-header { text-align: center; margin-bottom: 32px; }
.gi-related-en { font-size: 12px; font-weight: 700; letter-spacing: 0.15em; text-transform: uppercase; color: var(--gi-gray-500); margin-bottom: 8px; }
.gi-related-title { font-size: 24px; font-weight: 900; }
.gi-related-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; }
@media (max-width: 1024px) { .gi-related-grid { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 640px) { .gi-related-grid { grid-template-columns: 1fr; } }
.gi-related-card { background: var(--gi-white); border: 1px solid var(--gi-gray-200); padding: 20px; transition: var(--gi-transition); }
.gi-related-card:hover { border-color: var(--gi-black); transform: translateY(-4px); box-shadow: var(--gi-shadow-lg); }
.gi-related-card-badge { display: inline-block; padding: 2px 8px; background: var(--gi-black); color: var(--gi-white); font-size: 11px; font-weight: 700; margin-bottom: 8px; }
.gi-related-card-title { font-size: 16px; font-weight: 700; line-height: 1.5; margin-bottom: 12px; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
.gi-related-card-meta { display: flex; gap: 16px; font-size: 14px; color: var(--gi-gray-600); }
.gi-related-card-meta strong { color: var(--gi-black); }

/* モバイルFAB */
.gi-mobile-fab { display: none; position: fixed; bottom: calc(var(--gi-mobile-banner) + 20px); right: 16px; z-index: 100; }
@media (max-width: 1100px) { .gi-mobile-fab { display: block; } }
.gi-fab-btn { width: 60px; height: 60px; background: var(--gi-black); display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 2px; box-shadow: var(--gi-shadow-lg); transition: var(--gi-transition); border-radius: 50%; }
.gi-fab-btn:hover { transform: scale(1.05); }
.gi-fab-btn:active { transform: scale(0.95); }
.gi-fab-btn svg { width: 24px; height: 24px; color: var(--gi-white); }
.gi-fab-btn span { font-size: 10px; font-weight: 700; color: var(--gi-white); }

/* モバイルパネル */
.gi-mobile-overlay { display: none; position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 998; opacity: 0; visibility: hidden; transition: var(--gi-transition); }
.gi-mobile-overlay.active { opacity: 1; visibility: visible; }
@media (max-width: 1100px) { .gi-mobile-overlay { display: block; } }
.gi-mobile-panel { display: none; position: fixed; bottom: var(--gi-mobile-banner); left: 0; right: 0; background: var(--gi-white); max-height: calc(85vh - var(--gi-mobile-banner)); z-index: 999; transform: translateY(100%); visibility: hidden; transition: 0.4s cubic-bezier(0.16, 1, 0.3, 1); flex-direction: column; border-top-left-radius: 16px; border-top-right-radius: 16px; box-shadow: 0 -4px 20px rgba(0,0,0,0.15); }
.gi-mobile-panel.active { transform: translateY(0); visibility: visible; }
@media (max-width: 1100px) { .gi-mobile-panel { display: flex; } }
.gi-panel-handle { width: 40px; height: 4px; background: var(--gi-gray-300); margin: 12px auto; border-radius: 2px; }
.gi-panel-header { display: flex; justify-content: space-between; align-items: center; padding: 12px 20px; border-bottom: 1px solid var(--gi-gray-200); }
.gi-panel-title { font-size: 18px; font-weight: 900; }
.gi-panel-close { width: 36px; height: 36px; background: var(--gi-gray-100); display: flex; align-items: center; justify-content: center; border-radius: 50%; }
.gi-panel-close svg { width: 20px; height: 20px; color: var(--gi-gray-600); }
.gi-panel-tabs { display: flex; border-bottom: 1px solid var(--gi-gray-200); }
.gi-panel-tab { flex: 1; padding: 12px; font-size: 14px; font-weight: 600; color: var(--gi-gray-500); border-bottom: 2px solid transparent; margin-bottom: -1px; transition: var(--gi-transition); }
.gi-panel-tab.active { color: var(--gi-black); border-bottom-color: var(--gi-black); }
.gi-panel-content { flex: 1; overflow-y: auto; padding: 20px; -webkit-overflow-scrolling: touch; }
.gi-panel-content-tab { display: none; }
.gi-panel-content-tab.active { display: block; }

/* モバイルAI */
.gi-mobile-ai-messages { min-height: 180px; max-height: 250px; overflow-y: auto; display: flex; flex-direction: column; gap: 12px; margin-bottom: 16px; padding: 16px; background: var(--gi-gray-50); border: 1px solid var(--gi-gray-200); border-radius: 8px; }
.gi-mobile-ai-input-wrap { display: flex; gap: 8px; }
.gi-mobile-ai-input { flex: 1; padding: 16px; border: 2px solid var(--gi-gray-300); font-size: 16px; font-family: inherit; resize: none; min-height: 52px; border-radius: 8px; }
.gi-mobile-ai-input:focus { outline: none; border-color: var(--gi-black); }
.gi-mobile-ai-send { width: 52px; height: 52px; background: var(--gi-black); display: flex; align-items: center; justify-content: center; border-radius: 8px; flex-shrink: 0; }
.gi-mobile-ai-send svg { width: 20px; height: 20px; color: var(--gi-white); }
.gi-mobile-ai-chips { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 16px; }
.gi-mobile-ai-chip { padding: 8px 16px; background: var(--gi-white); border: 1px solid var(--gi-gray-300); font-size: 14px; font-weight: 600; border-radius: 20px; }
.gi-mobile-ai-chip:hover { background: var(--gi-black); border-color: var(--gi-black); color: var(--gi-white); }

/* 印刷 */
@media print {
    .gi-sidebar, .gi-mobile-fab, .gi-mobile-overlay, .gi-mobile-panel, .gi-progress, .gi-related, .gi-ad-section, .gi-ai-section { display: none !important; }
    .gi-layout { grid-template-columns: 1fr; }
    .gi-checklist { page-break-inside: avoid; }
    .gi-page { padding-bottom: 0 !important; }
}

/* アクセシビリティ */
@media (prefers-reduced-motion: reduce) {
    *, *::before, *::after { animation-duration: 0.01ms !important; transition-duration: 0.01ms !important; }
}
:focus-visible { outline: 3px solid var(--gi-accent); outline-offset: 2px; }
.sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0, 0, 0, 0); border: 0; }
.gi-skip-link { position: absolute; top: -100px; left: 0; background: var(--gi-black); color: var(--gi-white); padding: 12px 16px; z-index: 10000; transition: top 0.2s; }
.gi-skip-link:focus { top: 0; }
